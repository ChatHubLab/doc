import{d as T,o as m,c as b,k as _,t as $,e as V,r as P,g as E,h as g,y as j,j as L,a4 as D,O as N,n as F,a5 as K,P as U,a6 as M,N as x,a3 as H,$ as J,V as q,F as G,E as W,m as v,_ as Y,v as A,a7 as Q,a8 as X,a9 as Z,aa as ee,ab as te,ac as ae,ad as se,ae as ne,af as oe,ag as re,Y as le,u as ce,z as ie,ah as ue,ai as pe,aj as de,ak as fe}from"./chunks/framework.xNVbX5KG.js";import{t as ve}from"./chunks/theme.sZn0JJX2.js";const me={class:"chat-panel"},be={key:0,class:"controls"},_e=_("div",{class:"circle red"},null,-1),he=_("div",{class:"circle yellow"},null,-1),ge=_("div",{class:"circle green"},null,-1),Se={class:"title"},ye={class:"content"},ke=T({__name:"ChatPanel",props:{controls:{type:Boolean,default:!0},title:{default:"聊天记录"}},setup(e){const a=e;return(t,s)=>(m(),b("div",me,[a.controls?(m(),b("div",be,[_e,he,ge,_("div",Se,$(a.title),1)])):V("",!0),_("div",ye,[P(t.$slots,"default")])]))}}),Te=["src"],$e={class:"nickname"},Pe={class:"message-box"},we=T({__name:"ChatMessage",props:{nickname:{},color:{},avatar:{}},setup(e,{expose:a}){const t={Alice:"#cc0066",Bot:"#00994d",User:"#1e90ff",Dave:"#f4a460"},s=E(()=>n.color||t[n.nickname[0].toLocaleUpperCase()+n.nickname.slice(1).toLocaleLowerCase()]),n=e,o=g(!1),r=g(!1),c=g(!1),p=g();function d(){let i;for(const h of document.querySelectorAll(".chat-message")){if(h===p.value)return i;i=h}}j(r,i=>{if(!i)return o.value=!1;const h=d();if(!h||h.getBoundingClientRect().bottom<0)return f();const C=h.__vue__.exposed;C.moving.value||!C.shown.value?C.onappear(f):f()});let S=()=>{};function f(){o.value=!0,c.value=!0,setTimeout(()=>{c.value=!1,S()},100)}function u(){p.value.getBoundingClientRect().top<innerHeight&&(r.value=!0)}const l=K();return a({moving:c,shown:o,onappear(i){S=i}}),L(()=>{p.value.__vue__=l,u(),addEventListener("scroll",u),addEventListener("resize",u)}),D(()=>{removeEventListener("scroll",u),removeEventListener("resize",u)}),(i,h)=>(m(),b("div",{ref_key:"root",ref:p,class:F(["chat-message",{shown:o.value}])},[i.avatar?(m(),b("img",{key:0,class:"avatar",src:i.avatar},null,8,Te)):(m(),b("div",{key:1,class:"avatar",style:N({backgroundColor:s.value})},$(i.nickname[0]),5)),_("div",$e,$(i.nickname),1),_("div",Pe,[P(i.$slots,"default")])],2))}}),Ce=e=>{if(typeof document>"u")return{stabilizeScrollPosition:n=>async(...o)=>n(...o)};const a=document.documentElement;return{stabilizeScrollPosition:s=>async(...n)=>{const o=s(...n),r=e.value;if(!r)return o;const c=r.offsetTop-a.scrollTop;return await U(),a.scrollTop=r.offsetTop-c,o}}},z="vitepress:tabSharedState",k=typeof localStorage<"u"?localStorage:null,B="vitepress:tabsSharedState",Ae=()=>{const e=k==null?void 0:k.getItem(B);if(e)try{return JSON.parse(e)}catch{}return{}},Ee=e=>{k&&k.setItem(B,JSON.stringify(e))},Le=e=>{const a=M({});j(()=>a.content,(t,s)=>{t&&s&&Ee(t)},{deep:!0}),e.provide(z,a)},Re=(e,a)=>{const t=x(z);if(!t)throw new Error("[vitepress-plugin-tabs] TabsSharedState should be injected");L(()=>{t.content||(t.content=Ae())});const s=g(),n=E({get(){var p;const r=a.value,c=e.value;if(r){const d=(p=t.content)==null?void 0:p[r];if(d&&c.includes(d))return d}else{const d=s.value;if(d)return d}return c[0]},set(r){const c=a.value;c?t.content&&(t.content[c]=r):s.value=r}});return{selected:n,select:r=>{n.value=r}}};let R=0;const Ve=()=>(R++,""+R);function je(){const e=H();return E(()=>{var s;const t=(s=e.default)==null?void 0:s.call(e);return t?t.filter(n=>typeof n.type=="object"&&"__name"in n.type&&n.type.__name==="PluginTabsTab"&&n.props).map(n=>{var o;return(o=n.props)==null?void 0:o.label}):[]})}const I="vitepress:tabSingleState",xe=e=>{J(I,e)},ze=()=>{const e=x(I);if(!e)throw new Error("[vitepress-plugin-tabs] TabsSingleState should be injected");return e},Be={class:"plugin-tabs"},Ie=["id","aria-selected","aria-controls","tabindex","onClick"],Oe=T({__name:"PluginTabs",props:{sharedStateKey:{}},setup(e){const a=e,t=je(),{selected:s,select:n}=Re(t,q(a,"sharedStateKey")),o=g(),{stabilizeScrollPosition:r}=Ce(o),c=r(n),p=g([]),d=f=>{var w;const u=t.value.indexOf(s.value);let l;f.key==="ArrowLeft"?l=u>=1?u-1:t.value.length-1:f.key==="ArrowRight"&&(l=u<t.value.length-1?u+1:0),l!==void 0&&(c(t.value[l]),(w=p.value[l])==null||w.focus())},S=Ve();return xe({uid:S,selected:s}),(f,u)=>(m(),b("div",Be,[_("div",{ref_key:"tablist",ref:o,class:"plugin-tabs--tab-list",role:"tablist",onKeydown:d},[(m(!0),b(G,null,W(v(t),l=>(m(),b("button",{id:`tab-${l}-${v(S)}`,ref_for:!0,ref_key:"buttonRefs",ref:p,key:l,role:"tab",class:"plugin-tabs--tab","aria-selected":l===v(s),"aria-controls":`panel-${l}-${v(S)}`,tabindex:l===v(s)?0:-1,onClick:()=>v(c)(l)},$(l),9,Ie))),128))],544),P(f.$slots,"default")]))}}),De=["id","aria-labelledby"],Ne=T({__name:"PluginTabsTab",props:{label:{}},setup(e){const{uid:a,selected:t}=ze();return(s,n)=>v(t)===s.label?(m(),b("div",{key:0,id:`panel-${s.label}-${v(a)}`,class:"plugin-tabs--content",role:"tabpanel",tabindex:"0","aria-labelledby":`tab-${s.label}-${v(a)}`},[P(s.$slots,"default",{},void 0,!0)],8,De)):V("",!0)}}),Fe=Y(Ne,[["__scopeId","data-v-b2b19630"]]),Ke=e=>{Le(e),e.component("PluginTabs",Oe),e.component("PluginTabsTab",Fe)},Ue={extends:ve,enhanceApp({app:e}){e.component("chat-panel",ke),e.component("chat-message",we),Ke(e)},themeConfig:{}};function O(e){if(e.extends){const a=O(e.extends);return{...a,...e,async enhanceApp(t){a.enhanceApp&&await a.enhanceApp(t),e.enhanceApp&&await e.enhanceApp(t)}}}return e}const y=O(Ue),Me=T({name:"VitePressApp",setup(){const{site:e}=ce();return L(()=>{ie(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),e.value.router.prefetchLinks&&ue(),pe(),de(),y.setup&&y.setup(),()=>fe(y.Layout)}});async function He(){const e=qe(),a=Je();a.provide(X,e);const t=Z(e.route);return a.provide(ee,t),a.component("Content",te),a.component("ClientOnly",ae),Object.defineProperties(a.config.globalProperties,{$frontmatter:{get(){return t.frontmatter.value}},$params:{get(){return t.page.value.params}}}),y.enhanceApp&&await y.enhanceApp({app:a,router:e,siteData:se}),{app:a,router:e,data:t}}function Je(){return ne(Me)}function qe(){let e=A,a;return oe(t=>{let s=re(t),n=null;return s&&(e&&(a=s),(e||a===s)&&(s=s.replace(/\.js$/,".lean.js")),n=le(()=>import(s),__vite__mapDeps([]))),A&&(e=!1),n},y.NotFound)}A&&He().then(({app:e,router:a,data:t})=>{a.go().then(()=>{Q(a.route,t.site),e.mount("#app")})});export{He as createApp};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}