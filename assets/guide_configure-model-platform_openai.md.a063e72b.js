import{_ as e,o as t,c as a,V as o}from"./chunks/framework.d3b95951.js";const m=JSON.parse('{"title":"koishi-plugin-chathub-openai-adapter","description":"","frontmatter":{},"headers":[],"relativePath":"guide/configure-model-platform/openai.md","filePath":"guide/configure-model-platform/openai.md","lastUpdated":1689603105000}'),i={name:"guide/configure-model-platform/openai.md"},d=o('<h1 id="koishi-plugin-chathub-openai-adapter" tabindex="-1">koishi-plugin-chathub-openai-adapter <a class="header-anchor" href="#koishi-plugin-chathub-openai-adapter" aria-label="Permalink to &quot;koishi-plugin-chathub-openai-adapter&quot;">​</a></h1><p><a href="https://www.npmjs.com/package/@dingyi222666/koishi-plugin-chathub-openai-adapter" target="_blank" rel="noreferrer"><img src="https://img.shields.io/npm/v/@dingyi222666/koishi-plugin-chathub-openai-adapter/next" alt="npm"></a></p><blockquote><p>这是一个为 <a href="https://github.com/ChatHubLab/chathub" target="_blank" rel="noreferrer">ChatHub</a> 提供 <a href="https://platform.openai.com/" target="_blank" rel="noreferrer">OpenAI GPT 3.5 / GPT 4</a> 支持的适配器插件</p></blockquote><p>本章节将介绍如何使用本插件来实现与 ChatGPT 的聊天互动。本章节包括以下内容：</p><ul><li><a href="#如何使用">如何使用？</a></li><li><a href="#常见问题">常见问题</a></li><li><a href="#配置项">配置项</a></li></ul><h2 id="如何使用" tabindex="-1">如何使用？ <a class="header-anchor" href="#如何使用" aria-label="Permalink to &quot;如何使用？&quot;">​</a></h2><ol><li>首先，你需要获取你的 OpenAI API Key，这是一个用于访问 OpenAI 服务的密钥。你可以在 <a href="https://platform.openai.com/" target="_blank" rel="noreferrer">OpenAI 的平台网站</a> 注册或登录一个 OpenAI 账号，然后点击页面右上角的你的头像，选择“查看 API 密钥”。在弹出的页面中，点击“创建新的密钥”按钮，就可以生成一个新的 API Key。请注意，这个密钥只会显示一次，所以请及时复制并妥善保存它。</li><li>在 Koishi 的插件市场中安装本插件（<code>chathub-openai-adapter</code>），并确保已经安装了本插件所依赖的前置插件（<code>chathub</code> 和 <code>openai</code>）。</li><li>在 Koishi 的插件配置中填写你的 API Key（请求设置 -&gt; apiKey）。</li></ol><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="国内环境怎么使用" tabindex="-1">国内环境怎么使用？ <a class="header-anchor" href="#国内环境怎么使用" aria-label="Permalink to &quot;国内环境怎么使用？&quot;">​</a></h3><p>由于国内网络环境的限制，你可能无法直接访问 OpenAI 的服务。为了解决这个问题，你有以下三种方法：</p><ul><li>在 Koishi 的全局设置里设置代理。这样，Koishi 就会通过代理来访问 OpenAI 的服务。请注意，这种方法需要你本地开启代理，并且可能会影响 Koishi 的其他功能。</li><li>在<code>chathub</code>主插件的设置里设置代理(请求设置 -&gt; isProxy，请求设置 -&gt; proxyAddress)。</li><li>在本插件的请求设置中设置反向代理（请求设置 -&gt; apiEndPoint）。这样，Koishi 就会通过反向代理来访问 OpenAI 的服务。请注意，这种方法需要你自己搭建或者找到一个可用的反向代理，并且可能会增加请求延迟。</li></ul><h2 id="配置项" tabindex="-1">配置项 <a class="header-anchor" href="#配置项" aria-label="Permalink to &quot;配置项&quot;">​</a></h2><p>本插件的配置项分为两类：请求设置和模型设置。请求设置用于设置请求 OpenAI API 的相关参数；模型设置用于设置使用 OpenAI GPT 3.5 / GPT 4 模型时的相关参数。</p><h3 id="全局设置" tabindex="-1">全局设置 <a class="header-anchor" href="#全局设置" aria-label="Permalink to &quot;全局设置&quot;">​</a></h3><table><thead><tr><th>配置项</th><th>类型</th><th>必填</th><th>默认值</th><th>作用</th></tr></thead><tbody><tr><td>chatConcurrentMaxSize</td><td><code>number</code></td><td>否</td><td><code>1</code></td><td>设置当前适配器适配的模型的最大并发聊天数</td></tr><tr><td>chatTimeLimit</td><td><code>number</code> 或 <code>Computed&lt;Awaitable&lt;number&gt;&gt;</code></td><td>否</td><td><code>20</code></td><td>设置每小时的调用限额（次数）</td></tr><tr><td>timeout</td><td><code>number</code></td><td>否</td><td><code>200000</code></td><td>设置请求超时时间（毫秒）</td></tr><tr><td>maxRetries</td><td><code>number</code></td><td>否</td><td><code>3</code></td><td>设置模型请求失败后的最大重试次数</td></tr></tbody></table><h3 id="请求设置" tabindex="-1">请求设置 <a class="header-anchor" href="#请求设置" aria-label="Permalink to &quot;请求设置&quot;">​</a></h3><ul><li><code>apiKey</code>：OpenAI 的 API Key，是一个用于访问 OpenAI 服务的密钥。这个配置项是必填的。</li><li><code>apiEndPoint</code>：请求 OpenAI API 的地址，默认为 <code>https://api.openai.com/v1</code>。如果你无法直接访问 OpenAI 的服务，你可以设置一个反向代理来替代这个地址。</li></ul><h3 id="模型设置" tabindex="-1">模型设置 <a class="header-anchor" href="#模型设置" aria-label="Permalink to &quot;模型设置&quot;">​</a></h3><ul><li><code>maxTokens</code>：回复的最大 Token 数（16~4096，必须是16的倍数）（注意如果你目前使用的模型的最大 Token 为8000及以上的话才建议设置超过 512 token）。默认为 256。</li><li><code>temperature</code>：回复温度，越高越随机（0~1，每步0.1）。默认为 0.8。</li><li><code>presencePenalty</code>：重复惩罚，越高越不易重复出现过至少一次的 Token（-2~2，每步0.1）。默认为 0.2。</li><li><code>frequencyPenalty</code>：频率惩罚，越高越不易重复出现次数较多的 Token（-2~2，每步0.1）。默认为 0.2。</li></ul><hr><p>总结：</p><p>本章节介绍了如何使用 <code>koishi-plugin-chathub-openai-adapter</code> 插件来实现与 ChatGPT 的聊天互动。本章节包括了以下内容：</p><ul><li>如何安装和配置本插件</li><li>如何解决一些常见问题</li><li>如何定制本插件的配置项</li></ul><p>希望本章节对你有所帮助，如果你有任何问题或建议，请随时联系我们。谢谢！</p>',24),r=[d];function l(n,h,c,p,u,s){return t(),a("div",null,r)}const f=e(i,[["render",l]]);export{m as __pageData,f as default};
