import{_ as a,o as e,c as s,Q as n}from"./chunks/framework.c13351f1.js";const q=JSON.parse('{"title":"为 ChatLuna 开发插件","description":"","frontmatter":{},"headers":[],"relativePath":"development/getting-started.md","filePath":"development/getting-started.md","lastUpdated":1701071091000}'),t={name:"development/getting-started.md"},o=n(`<h1 id="为-chatluna-开发插件" tabindex="-1">为 ChatLuna 开发插件 <a class="header-anchor" href="#为-chatluna-开发插件" aria-label="Permalink to &quot;为 ChatLuna 开发插件&quot;">​</a></h1><p>本节将以一个简易的例子，来介绍如何为 ChatLuna 开发一个插件（模型适配器）。</p><h2 id="前置条件" tabindex="-1">前置条件 <a class="header-anchor" href="#前置条件" aria-label="Permalink to &quot;前置条件&quot;">​</a></h2><p>在开发之前，当然不是从零开始。你需要完成以下任务：</p><ol><li>基于 koishi 官方的<a href="https://koishi.chat/zh-CN/guide/develop/setup.html" target="_blank" rel="noreferrer">文档</a>，搭建好模版项目。</li><li>模版项目里需要安装 ChatLuna 的主插件。</li></ol><h2 id="配置基础环境" tabindex="-1">配置基础环境 <a class="header-anchor" href="#配置基础环境" aria-label="Permalink to &quot;配置基础环境&quot;">​</a></h2><p>前置条件都完成了之后，我们就可以开始新建插件了！</p><p>阅读<a href="https://koishi.chat/zh-CN/guide/develop/workspace.html#%E5%88%9B%E5%BB%BA%E6%96%B0%E6%8F%92%E4%BB%B6" target="_blank" rel="noreferrer">此</a>,先新建一个插件。</p><p>接下来我们假设你创建的插件名叫<code>example</code>。</p><h3 id="添加-chatluna-依赖" tabindex="-1">添加 ChatLuna 依赖 <a class="header-anchor" href="#添加-chatluna-依赖" aria-label="Permalink to &quot;添加 ChatLuna 依赖&quot;">​</a></h3><p>参考由 Koishi 编写的<a href="https://koishi.chat/zh-CN/guide/develop/workspace.html#%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96" target="_blank" rel="noreferrer">文档</a>，添加 ChatLuna 依赖到你的插件。</p><p>::: tabs code</p><div class="language-npm vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">npm</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">npm install koishi-plugin-chatluna@next -D -P -w koishi-plugin-[name]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">npm install koishi-plugin-chatluna@next -D -P -w koishi-plugin-[name]</span></span></code></pre></div><div class="language-yarn vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yarn</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">yarn workspace koishi-plugin-[name] add koishi-plugin-chatluna@next -D -P</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">yarn workspace koishi-plugin-[name] add koishi-plugin-chatluna@next -D -P</span></span></code></pre></div><p>:::</p><p>执行完后记得修改 <code>peerDependencies</code> 字段，将 ChatLuna 的版本号改为和 <code>devDependencies</code> 一致。</p><p>如下：</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&quot;peerDependencies&quot;: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    &quot;koishi&quot;: &quot;^4.15.6&quot;,</span></span>
<span class="line"><span style="color:#FDAEB7;">-   &quot;koishi-plugin-chatluna&quot;: &quot;*&quot;</span></span>
<span class="line"><span style="color:#85E89D;">+   &quot;koishi-plugin-chatluna&quot;: &quot;^1.0.0-beta.23&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">&quot;devDependencies&quot;: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    &quot;koishi-plugin-chatluna&quot;: &quot;^1.0.0-beta.23&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&quot;peerDependencies&quot;: {</span></span>
<span class="line"><span style="color:#24292E;">    &quot;koishi&quot;: &quot;^4.15.6&quot;,</span></span>
<span class="line"><span style="color:#B31D28;">-   &quot;koishi-plugin-chatluna&quot;: &quot;*&quot;</span></span>
<span class="line"><span style="color:#22863A;">+   &quot;koishi-plugin-chatluna&quot;: &quot;^1.0.0-beta.23&quot;</span></span>
<span class="line"><span style="color:#24292E;">},</span></span>
<span class="line"><span style="color:#24292E;">&quot;devDependencies&quot;: {</span></span>
<span class="line"><span style="color:#24292E;">    &quot;koishi-plugin-chatluna&quot;: &quot;^1.0.0-beta.23&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div>`,18),l=[o];function p(i,c,r,u,h,d){return e(),s("div",null,l)}const k=a(t,[["render",p]]);export{q as __pageData,k as default};
